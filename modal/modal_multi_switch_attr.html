<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title></title>
<style>
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}
main {
	height: 1000px;
}
.modal {
	display: none;
	position: fixed;
	left: 50%;
	top: 50%;
	width: 50vw;
	max-height: 80vh;
	overflow: auto;
	z-index: 2;
	background-color: #fff;
	transform: translate(-50%, -50%);
}
.overlay {
	display: none;
	position: fixed;
	width: 100%;
	height: 100vh;
	top: 0;
	left: 0;
	z-index: 1;
	background: rgba(0,0,0,0.6);
}
</style>
</head>
<body>
<main>

<a class="open" href="#" data-target="modal-01">OPEN</a>

<div id="modal-01" class="modal">
	<p>modal-01 Lorem ipsum, dolor sit amet consectetur adipisicing elit. Inventore possimus accusamus id dolorem alias sunt, omnis consectetur odio soluta modi, temporibus ducimus reprehenderit magnam adipisci quae suscipit nemo? Molestias, blanditiis!</p>
	<a class="switch" href="#" data-target="modal-03">modal-03</a>
	<a class="switch" href="#" data-target="modal-02">modal-02</a>
	<a class="close" href="#">CLOSE</i></a>
</div><!--modal-->

<div id="modal-02" class="modal">
	<p>modal-02 Lorem ipsum, dolor sit amet consectetur adipisicing elit. Inventore possimus accusamus id dolorem alias sunt, omnis consectetur odio soluta modi, temporibus ducimus reprehenderit magnam adipisci quae suscipit nemo? Molestias, blanditiis!</p>
	<a class="switch" href="#" data-target="modal-01">modal-01</a>
	<a class="switch" href="#" data-target="modal-03">modal-03</a>
	<a class="close" href="#">CLOSE</i></a>
</div><!--modal-->

<div id="modal-03" class="modal">
	<p>modal-03 Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consequuntur culpa laudantium exercitationem consectetur facere voluptate quos non nesciunt quibusdam sapiente reprehenderit quidem cumque perferendis error, tempora quod adipisci earum. Animi? Lorem ipsum dolor sit amet consectetur adipisicing elit. Officiis adipisci sapiente quis nam aspernatur repellendus optio numquam minus, unde rem, quidem tenetur est facilis iure voluptas, corporis sit fugiat ipsam. Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum quibusdam eius quas placeat. Possimus aliquam eligendi qui. Iure harum deserunt natus voluptatibus quasi, in rem debitis eaque aliquam quibusdam dolorum? Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum molestias, recusandae quaerat cumque repellat, dicta corporis officia, blanditiis hic nisi libero. Quas inventore nesciunt voluptas dicta voluptatem dignissimos minima magnam.</p>
	<a class="switch" href="#" data-target="modal-02">modal-02</a>
	<a class="switch" href="#" data-target="modal-01">modal-01</a>
	<a class="close" href="#">CLOSE</i></a>
</div><!--modal-->

</main>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(function(){
	$('.open').click(function(){

		$('body').append('<div class="overlay"></div>');
		$('.overlay').fadeIn();

		const target = '#' + $(this).attr('data-target');   //# + modal-01 文字列取得
		$(target).fadeIn();            //取得文字列 (#modal-01) 含んだID名のタグをfadeIn

		$('.overlay, .close').on('click',function(){
			$('.modal, .overlay').fadeOut().promise().done(function() {
				$('.overlay').remove();
			});
		});

		// switch モーダル切り替え
		$('.switch').click(function(){
			$(this).closest('.modal').fadeOut();     //クリックされたmodalをfadeOut
			const target = '#' + $(this).attr('data-target');   //# + modal-01 文字列取得
			$(target).fadeIn();            //取得文字列 (#modal-01) 含んだID名のタグをfadeIn
		});
	});
});
</script>
</body>
</html>
